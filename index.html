<head>
<!--Tab Title-->
<title>Thulgaar, the Northern March</title>
<!--Tab Icon-->
<link rel="icon" href="/images/icons/icon.png">
<!--Leaflet for the Map-->
<link rel="stylesheet" href="../leaflet/leaflet.css" />
<style>html, body, #map { height: 100%; margin: 0; background-color: #727181 }</style>
<script src="../leaflet/leaflet.js"></script>
</head>
<body>
<!--The Map-->
<div id="map"></div>
<script>
    
    const IMG_A = '../images/northernmarch.png';
    const IMG_B = '../images/northernmarchhex.png';
    const imageWidth = 5760;
    const imageHeight = 3240;

    const map = L.map('map', {
      crs: L.CRS.Simple,
      minZoom: -1,
      maxZoom: 0,
      attributionControl: false,
      zoomControl: false
    });

    function createIcon(url, size = [32, 32], anchor = [16, 32], popupAnchor = [0, -16]) {
      return L.icon({ iconUrl: url, iconSize: size, iconAnchor: anchor, popupAnchor: popupAnchor });
    }

    const icons = {
      forest: createIcon('../images/icons/forest.png'),
      dungeon: createIcon('../images/icons/dungeon.png', [30,30],[10,10],[5,5]),
      hive: createIcon('../images/icons/hive.png'),
      tribe: createIcon('../images/icons/tribal.png'),
      sahradan: createIcon('../images/icons/sahradan.png'),
      sangratir: createIcon('../images/icons/sangratir.png'),
      thulgaan: createIcon('../images/icons/thulgaan.png'),
      circle: createIcon('../images/icons/dot.png',[20,20],[10,10]),
      vihara: createIcon('../images/icons/citystate.png'),
      shrine: createIcon('../images/icons/shrine.png'),
      monument: createIcon('../images/icons/monument.png',[30,30],[15,15])
    };
    // Add New Markers Here
     L.marker([810, 3190], { icon: icons.thulgaan }).addTo(map).bindPopup('Oramahk, the Ivory Throne');
     L.marker([1270, 3510], { icon: icons.circle }).addTo(map).bindPopup('Wyrd Kettle of Thrumgak');
     L.marker([1680, 2600], { icon: icons.thulgaan }).addTo(map).bindPopup('Varrkund');
     L.marker([1590, 3795], { icon: icons.monument }).addTo(map).bindPopup('Tuskline of Drokhaal');
     L.marker([1850, 3320], { icon: icons.dungeon }).addTo(map).bindPopup('Sleeptusk Barrow');
     L.marker([2020, 3040], { icon: icons.shrine }).addTo(map).bindPopup('Korrulvarn');
     L.marker([2260, 2270], { icon: icons.thulgaan }).addTo(map).bindPopup('Vaskerrad');
     L.marker([2205, 1775], { icon: icons.tribe }).addTo(map).bindPopup('Bravaskar');

    const bounds = [[0, 0], [imageHeight, imageWidth]];
    const overlay = L.imageOverlay(IMG_A, bounds).addTo(map);

    let showingA = true;

    const SwapControl = L.Control.extend({
    options: { position: 'topleft' },
    onAdd: function () {
    const container = L.DomUtil.create('div', 'leaflet-bar');
    const link = L.DomUtil.create('a', '', container);
    link.href = '#';
    link.title = 'Toggle Hex Grid';
    link.innerHTML = 'â¤¿';          // simple icon
    link.style.width = '26px';
    link.style.height = '26px';
    link.style.lineHeight = '26px';
    link.style.textAlign = 'center';

    L.DomEvent.on(link, 'click', (e) => {
      L.DomEvent.stop(e);
      overlay.setUrl(showingA ? IMG_B : IMG_A);
      showingA = !showingA;
    });

    L.DomEvent.disableClickPropagation(container);
    L.DomEvent.disableScrollPropagation(container);
    return container;
  }
});
    map.fitBounds(bounds);
    map.setMaxBounds(bounds);
    map.addControl(new SwapControl());
    </script>

    
</body>
</html>